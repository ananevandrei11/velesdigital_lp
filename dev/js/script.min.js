"use strict";

// MASK FOR PHONE
var phoneCall = document.getElementById('phoneCall');
var phoneService = document.getElementById('phoneService');
var phoneLetter = document.getElementById('phoneLetter');
var maskOptionsPhone = {
  mask: '+{7}(000)000-00-00'
};
var mask1 = IMask(phoneService, maskOptionsPhone);
var mask2 = IMask(phoneCall, maskOptionsPhone);
var mask3 = IMask(phoneLetter, maskOptionsPhone); // VALIDATION ORDER CALL

var formOrderCall = document.querySelector('#formOrderCall');
var phoneOrderCall = formOrderCall.elements.phoneCall;
var btnOrderCall = formOrderCall.querySelector('button[type="submit"]');

phoneOrderCall.oninput = function () {
  if (phoneOrderCall.value.length < 16) {
    btnOrderCall.setAttribute('disabled', 'disabled');
  } else {
    btnOrderCall.removeAttribute('disabled', 'disabled');
  }
}; // VALIDATION ORDER SERVICE


var formOrderService = document.querySelector('#formOrderService');
var phoneOrderService = formOrderService.elements.phoneService;
var emailOrderService = formOrderService.elements.emailService;
var btnOrderService = formOrderService.querySelector('button[type="submit"]');
var regexMail = /[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[A-z0-9](?:[A-z0-9-]*[A-z0-9])?\.)+[A-z0-9](?:[A-z0-9-]*[A-z0-9])?/;
var arrServicePhone = [];
var arrServiceEmail = [];
var arrServiceTotal = [];

function validPhone(elem, arr) {
  if (elem.value.length == 16) {
    arr[0] = 'true';
  } else {
    arr[0] = 'false';
  }

  return arr;
}

function validEmail(elem, arr) {
  if (elem.value.match(regexMail) && elem.value.length > 0) {
    arr[0] = 'true';
  } else {
    arr[0] = 'false';
  }

  return arr;
}

function validBtn(arrTotal, arrPhone, arrEmail) {
  arrTotal = arrPhone.concat(arrEmail);
  var check = 0;

  for (var i in arrTotal) {
    if (arrTotal[i] === 'true') {
      check += 1;
    }

    check += 0;
  }

  return check;
}

phoneOrderService.oninput = function () {
  validPhone(phoneOrderService, arrServicePhone);

  if (validBtn(arrServiceTotal, arrServicePhone, arrServiceEmail) === 2) {
    btnOrderService.removeAttribute('disabled', 'disabled');
  } else {
    btnOrderService.setAttribute('disabled', 'disabled');
  }
};

emailOrderService.oninput = function () {
  validEmail(emailOrderService, arrServiceEmail);

  if (validBtn(arrServiceTotal, arrServicePhone, arrServiceEmail) === 2) {
    btnOrderService.removeAttribute('disabled', 'disabled');
  } else {
    btnOrderService.setAttribute('disabled', 'disabled');
  }
}; // VALIDATION ORDER LETTER


var formLetter = document.querySelector('#formLetter');
var phoneOrderLetter = formLetter.elements.phoneLetter;
var emailOrderLetter = formLetter.elements.emailLetter;
var btnOrderLetter = formLetter.querySelector('button[type="submit"]');
var arrLetterPhone = [];
var arrLetterEmail = [];
var arrLetterTotal = [];

phoneOrderLetter.oninput = function () {
  validPhone(phoneOrderLetter, arrLetterPhone);

  if (validBtn(arrLetterTotal, arrLetterPhone, arrLetterEmail) === 2) {
    btnOrderLetter.removeAttribute('disabled', 'disabled');
  } else {
    btnOrderLetter.setAttribute('disabled', 'disabled');
  }
};

emailOrderLetter.oninput = function () {
  validEmail(emailOrderLetter, arrLetterEmail);

  if (validBtn(arrLetterTotal, arrLetterPhone, arrLetterEmail) === 2) {
    btnOrderLetter.removeAttribute('disabled', 'disabled');
  } else {
    btnOrderLetter.setAttribute('disabled', 'disabled');
  }
};
"use strict";

(function () {
  'use strict';

  var forms = document.querySelectorAll('.needs-validation'); // Loop over them and prevent submission

  Array.prototype.slice.call(forms).forEach(function (form) {
    form.addEventListener('submit', function (event) {
      if (!form.checkValidity()) {
        event.preventDefault();
        event.stopPropagation();
      }

      form.classList.add('was-validated');
    }, false);
  });
})();